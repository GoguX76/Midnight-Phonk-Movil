<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/RESUMEN_CAMBIOS.md">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/RESUMEN_CAMBIOS.md" />
              <option name="updatedContent" value="# ✅ CAMBIOS REALIZADOS - BASE DE DATOS SIMPLIFICADA&#10;&#10;##  Archivos ELIMINADOS:&#10;- ❌ `data/UserDao.kt` - Ya no necesitas el DAO de Room&#10;- ❌ `data/ProductDao.kt` - Ya no necesitas el DAO de Room&#10;- ❌ `data/AppDatabase.kt` - Ya no necesitas la base de datos de Room&#10;&#10;##  Archivos MODIFICADOS:&#10;&#10;### 1. `data/User.kt`&#10;- ✅ Eliminadas anotaciones de Room (`@Entity`, `@PrimaryKey`)&#10;- ✅ Ahora es una clase de datos simple (data class)&#10;&#10;### 2. `data/Product.kt`&#10;- ✅ Eliminadas anotaciones de Room&#10;- ✅ Ahora es una clase de datos simple&#10;&#10;### 3. `data/UserRepository.kt`&#10;- ✅ Convertido a `object` (Singleton)&#10;- ✅ Usa una lista mutable en memoria: `mutableListOf&lt;User&gt;()`&#10;- ✅ Ya NO necesitas instanciarlo&#10;- ✅ Métodos disponibles:&#10;  - `insertUser(user)` - Agrega un usuario&#10;  - `findUserByEmail(email)` - Busca por email&#10;  - `getAllUsers()` - Devuelve todos los usuarios&#10;  - `clearAll()` - Limpia la base de datos&#10;&#10;### 4. `viewmodels/RegisterViewModel.kt`&#10;- ✅ Ya no hereda de `AndroidViewModel`, ahora es `ViewModel` simple&#10;- ✅ Ya no usa coroutines (suspend functions)&#10;- ✅ Devuelve `RegistrationResult` (Success o Error)&#10;- ✅ Validaciones incluidas:&#10;  - Email no vacío&#10;  - Contraseña no vacía&#10;  - Contraseña mínimo 6 caracteres&#10;  - Email no duplicado&#10;&#10;### 5. `app/build.gradle.kts`&#10;- ✅ Eliminado plugin KSP&#10;- ✅ Eliminadas dependencias de Room&#10;&#10;##  CÓMO USAR LA NUEVA BASE DE DATOS:&#10;&#10;### Opción A: Con ViewModel (Recomendado)&#10;```kotlin&#10;val viewModel: RegisterViewModel by viewModels()&#10;&#10;val result = viewModel.registerUser(&quot;user@example.com&quot;, &quot;password123&quot;)&#10;&#10;when (result) {&#10;    is RegistrationResult.Success -&gt; {&#10;        // Usuario registrado correctamente&#10;        println(&quot;Usuario: ${result.user.email}&quot;)&#10;    }&#10;    is RegistrationResult.Error -&gt; {&#10;        // Mostrar mensaje de error&#10;        println(&quot;Error: ${result.message}&quot;)&#10;    }&#10;}&#10;```&#10;&#10;### Opción B: Directamente con el Repositorio&#10;```kotlin&#10;import data.UserRepository&#10;import data.User&#10;&#10;// Crear usuario&#10;val user = User(email = &quot;test@test.com&quot;, passwordHash = &quot;hash&quot;)&#10;UserRepository.insertUser(user)&#10;&#10;// Buscar usuario&#10;val found = UserRepository.findUserByEmail(&quot;test@test.com&quot;)&#10;&#10;// Ver todos&#10;val all = UserRepository.getAllUsers()&#10;```&#10;&#10;## ⚠️ IMPORTANTE:&#10;&#10;### VENTAJAS ✅:&#10;- Código MUY simple&#10;- No necesitas Room ni bases de datos complejas&#10;- Perfecto para aprender o hacer prototipos&#10;- No necesitas coroutines&#10;- Funciona inmediatamente&#10;&#10;### LIMITACIONES ⚠️:&#10;- **Los datos se pierden al cerrar la app**&#10;- No apto para apps de producción&#10;- No tiene persistencia de datos&#10;&#10;### PARA GUARDAR DATOS PERMANENTEMENTE:&#10;Más adelante puedes usar:&#10;1. **SharedPreferences** - Para datos pequeños (configuraciones)&#10;2. **JSON en archivos** - Para datos estructurados simples&#10;3. **Room Database** - Para apps profesionales (lo que acabas de eliminar)&#10;&#10;##  ARCHIVO DE EJEMPLO:&#10;- ✅ Creado `EJEMPLO_USO.kt` con ejemplos completos&#10;&#10;##  PRÓXIMOS PASOS:&#10;1. Crea una Activity o Fragment para la UI&#10;2. Conecta el ViewModel con la UI&#10;3. Prueba el registro de usuarios&#10;4. Disfruta de código simple y funcional&#10;&#10;---&#10;**¿Dudas?** Revisa el archivo `EJEMPLO_USO.kt` para ver ejemplos completos.&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/build.gradle.kts">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/build.gradle.kts" />
              <option name="originalContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;    id(&quot;com.google.devtools.ksp&quot;) version &quot;1.9.22-1.0.17&quot;&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.midnightphonk&quot;&#10;    compileSdk = 36&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.midnightphonk&quot;&#10;        minSdk = 24&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;&#10;        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;}&#10;&#10;dependencies {&#10;    val room_version = &quot;2.6.1&quot;&#10;    implementation(libs.androidx.core.ktx)&#10;    implementation(libs.androidx.lifecycle.runtime.ktx)&#10;    implementation(libs.androidx.activity.compose)&#10;    implementation(platform(libs.androidx.compose.bom))&#10;    implementation(libs.androidx.ui)&#10;    implementation(libs.androidx.ui.graphics)&#10;    implementation(libs.androidx.ui.tooling.preview)&#10;    implementation(libs.androidx.material3)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.5&quot;)&#10;    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0&quot;)&#10;    implementation(&quot;androidx.room:room-runtime:$room_version&quot;)&#10;    ksp(&quot;androidx.room:room-compiler:$room_version&quot;)&#10;    implementation(&quot;androidx.room:room-ktx:$room_version&quot;)&#10;    testImplementation(libs.junit)&#10;    androidTestImplementation(libs.androidx.junit)&#10;    androidTestImplementation(libs.androidx.espresso.core)&#10;    androidTestImplementation(platform(libs.androidx.compose.bom))&#10;    androidTestImplementation(libs.androidx.ui.test.junit4)&#10;    debugImplementation(libs.androidx.ui.tooling)&#10;    debugImplementation(libs.androidx.ui.test.manifest)&#10;}" />
              <option name="updatedContent" value="plugins {&#10;    alias(libs.plugins.android.application)&#10;    alias(libs.plugins.kotlin.android)&#10;    alias(libs.plugins.kotlin.compose)&#10;}&#10;&#10;android {&#10;    namespace = &quot;com.example.midnightphonk&quot;&#10;    compileSdk = 36&#10;&#10;    defaultConfig {&#10;        applicationId = &quot;com.example.midnightphonk&quot;&#10;        minSdk = 24&#10;        targetSdk = 36&#10;        versionCode = 1&#10;        versionName = &quot;1.0&quot;&#10;&#10;        testInstrumentationRunner = &quot;androidx.test.runner.AndroidJUnitRunner&quot;&#10;    }&#10;&#10;    buildTypes {&#10;        release {&#10;            isMinifyEnabled = false&#10;            proguardFiles(&#10;                getDefaultProguardFile(&quot;proguard-android-optimize.txt&quot;),&#10;                &quot;proguard-rules.pro&quot;&#10;            )&#10;        }&#10;    }&#10;    compileOptions {&#10;        sourceCompatibility = JavaVersion.VERSION_11&#10;        targetCompatibility = JavaVersion.VERSION_11&#10;    }&#10;    kotlinOptions {&#10;        jvmTarget = &quot;11&quot;&#10;    }&#10;    buildFeatures {&#10;        compose = true&#10;    }&#10;}&#10;&#10;dependencies {&#10;    implementation(libs.androidx.core.ktx)&#10;    implementation(libs.androidx.lifecycle.runtime.ktx)&#10;    implementation(libs.androidx.activity.compose)&#10;    implementation(platform(libs.androidx.compose.bom))&#10;    implementation(libs.androidx.ui)&#10;    implementation(libs.androidx.ui.graphics)&#10;    implementation(libs.androidx.ui.tooling.preview)&#10;    implementation(libs.androidx.material3)&#10;    implementation(&quot;androidx.navigation:navigation-compose:2.7.5&quot;)&#10;    implementation(&quot;androidx.lifecycle:lifecycle-viewmodel-compose:2.7.0&quot;)&#10;    testImplementation(libs.junit)&#10;    androidTestImplementation(libs.androidx.junit)&#10;    androidTestImplementation(libs.androidx.espresso.core)&#10;    androidTestImplementation(platform(libs.androidx.compose.bom))&#10;    androidTestImplementation(libs.androidx.ui.test.junit4)&#10;    debugImplementation(libs.androidx.ui.tooling)&#10;    debugImplementation(libs.androidx.ui.test.manifest)&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/EJEMPLO_USO.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/EJEMPLO_USO.kt" />
              <option name="updatedContent" value="/**&#10; * ==========================================&#10; * EJEMPLO DE CÓMO USAR LA BASE DE DATOS SIMPLIFICADA&#10; * ==========================================&#10; * &#10; * Ya no necesitas Room, Dao, ni AppDatabase.&#10; * Todo se guarda en memoria con listas simples.&#10; */&#10;&#10;// EJEMPLO 1: Cómo usar desde una Activity&#10;/*&#10;import android.os.Bundle&#10;import androidx.activity.viewModels&#10;import androidx.appcompat.app.AppCompatActivity&#10;import android.widget.Button&#10;import android.widget.EditText&#10;import android.widget.Toast&#10;import viewmodels.RegisterViewModel&#10;import viewmodels.RegistrationResult&#10;&#10;class RegisterActivity : AppCompatActivity() {&#10;&#10;    private val viewModel: RegisterViewModel by viewModels()&#10;&#10;    override fun onCreate(savedInstanceState: Bundle?) {&#10;        super.onCreate(savedInstanceState)&#10;        setContentView(R.layout.activity_register)&#10;&#10;        val emailEditText = findViewById&lt;EditText&gt;(R.id.emailEditText)&#10;        val passwordEditText = findViewById&lt;EditText&gt;(R.id.passwordEditText)&#10;        val registerButton = findViewById&lt;Button&gt;(R.id.registerButton)&#10;&#10;        registerButton.setOnClickListener {&#10;            val email = emailEditText.text.toString()&#10;            val password = passwordEditText.text.toString()&#10;            &#10;            // Llamar al ViewModel&#10;            val result = viewModel.registerUser(email, password)&#10;            &#10;            // Manejar el resultado&#10;            when (result) {&#10;                is RegistrationResult.Success -&gt; {&#10;                    Toast.makeText(this, &quot;Usuario registrado: ${result.user.email}&quot;, Toast.LENGTH_SHORT).show()&#10;                    // Navegar a otra pantalla&#10;                }&#10;                is RegistrationResult.Error -&gt; {&#10;                    Toast.makeText(this, result.message, Toast.LENGTH_SHORT).show()&#10;                }&#10;            }&#10;        }&#10;    }&#10;}&#10;*/&#10;&#10;// EJEMPLO 2: Cómo usar directamente el repositorio (sin ViewModel)&#10;/*&#10;import data.UserRepository&#10;import data.User&#10;&#10;// Insertar un usuario&#10;val user = User(email = &quot;test@example.com&quot;, passwordHash = &quot;hash123&quot;)&#10;UserRepository.insertUser(user)&#10;&#10;// Buscar un usuario&#10;val foundUser = UserRepository.findUserByEmail(&quot;test@example.com&quot;)&#10;if (foundUser != null) {&#10;    println(&quot;Usuario encontrado: ${foundUser.email}&quot;)&#10;}&#10;&#10;// Ver todos los usuarios (útil para debugging)&#10;val allUsers = UserRepository.getAllUsers()&#10;println(&quot;Total de usuarios: ${allUsers.size}&quot;)&#10;&#10;// Limpiar todos los usuarios&#10;UserRepository.clearAll()&#10;*/&#10;&#10;// VENTAJAS de esta solución:&#10;// ✅ No necesitas Room ni dependencias complejas&#10;// ✅ Código más simple y fácil de entender&#10;// ✅ Perfecto para aprender o prototipos&#10;// ✅ No necesitas coroutines (suspend functions)&#10;&#10;// DESVENTAJAS:&#10;// ❌ Los datos se pierden al cerrar la app&#10;// ❌ No es escalable para apps reales&#10;// ❌ No tiene persistencia&#10;&#10;// SOLUCIÓN para guardar datos:&#10;// Si quieres que los datos persistan, puedes usar SharedPreferences o archivos JSON&#10;// más adelante cuando necesites esa funcionalidad.&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/data/User.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/data/User.kt" />
              <option name="originalContent" value="package data&#10;&#10;import androidx.room.Entity&#10;import androidx.room.PrimaryKey&#10;&#10;@Entity&#10;data class User (&#10;    @PrimaryKey(autoGenerate = true) val id: Int = 0,&#10;    val email: String,&#10;    val passwordHash: String,&#10;    val name: String = &quot;&quot;,&#10;)" />
              <option name="updatedContent" value="package data&#10;&#10;// Modelo simple de datos sin Room&#10;data class User(&#10;    val id: Int = 0,&#10;    val email: String,&#10;    val passwordHash: String,&#10;    val name: String = &quot;&quot;&#10;)" />
            </PendingDiffInfo>
          </value>
        </entry>
        <entry key="$PROJECT_DIR$/app/src/main/java/data/UserRepository.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/data/UserRepository.kt" />
              <option name="originalContent" value="package data&#10;&#10;/**&#10; * El Repositorio es una capa intermedia entre el ViewModel y la fuente de datos (el DAO).&#10; * Ayuda a mantener el código organizado.&#10; */&#10;class UserRepository(private val userDao: UserDao) {&#10;&#10;    suspend fun findUserByEmail(email: String): User? {&#10;        return userDao.findUserByEmail(email)&#10;    }&#10;&#10;    suspend fun insertUser(user: User) {&#10;        userDao.insertUser(user)&#10;    }&#10;}" />
              <option name="updatedContent" value="package data&#10;&#10;/**&#10; * Repositorio simplificado que simula una base de datos usando una lista en memoria.&#10; * Los datos se perderán cuando cierres la aplicación.&#10; */&#10;object UserRepository {&#10;    &#10;    // Lista mutable que simula la base de datos&#10;    private val users = mutableListOf&lt;User&gt;()&#10;    &#10;    // Contador para generar IDs automáticamente&#10;    private var nextId = 1&#10;    &#10;    /**&#10;     * Inserta un nuevo usuario en la &quot;base de datos&quot;&#10;     */&#10;    fun insertUser(user: User) {&#10;        val newUser = user.copy(id = nextId++)&#10;        users.add(newUser)&#10;    }&#10;    &#10;    /**&#10;     * Busca un usuario por email&#10;     */&#10;    fun findUserByEmail(email: String): User? {&#10;        return users.find { it.email == email }&#10;    }&#10;    &#10;    /**&#10;     * Obtiene todos los usuarios (útil para debug)&#10;     */&#10;    fun getAllUsers(): List&lt;User&gt; {&#10;        return users.toList()&#10;    }&#10;    &#10;    /**&#10;     * Elimina todos los usuarios (útil para testing)&#10;     */&#10;    fun clearAll() {&#10;        users.clear()&#10;        nextId = 1&#10;    }&#10;}" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>